# OWASP Juice Shop - An intentionally insecure Javascript Web Application
FROM        node:6
MAINTAINER  Bjoern Kimminich <bjoern.kimminich@owasp.org>

COPY . /juice-shop
WORKDIR /juice-shop

RUN npm install --production && \
    ./node_modules/.bin/bower install && \
    ./node_modules/.bin/grunt minify

RUN for i in $(find / -type f \( -perm +6000 -o -perm +2000 \)); \
    do chmod ug-s $i; done

EXPOSE  3000
CMD npm start
